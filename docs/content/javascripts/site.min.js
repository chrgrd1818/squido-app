document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByTagName("img"),a=0;a<e.length;a++)e[a].classList.add("img-fluid");var n=FlexSearch.create(),t=0;data.forEach(function(e){n.add(t,e.body),t++},this);var r=document.getElementById("search-input"),s=document.getElementById("search-results");r.addEventListener("keyup",function(e){2<r.value.length?(s.innerHTML="",n.search({query:r.value,async:!1,limit:10,encode:"icase",tokenize:"full",worker:4},function(e){var n=0;e.forEach(function(e){var a;n<10&&(a=data[e],e=new RegExp("("+r.value+")"),e=a.body.search(e),e=a.body.substring(e-80,e+r.value.length+80).replace(r.value,'<span class="text-squido-highlight">'+r.value+"</span>"),e='<p><span class="result-title"> '+a.title+"</span><br/><small>"+e+"</small></p></a>",s.innerHTML=s.innerHTML+"<a class='list-group-item search-result-item' href='/"+a.permalink+"'>"+e+"</a>",n++)})})):s.innerHTML="",r.addEventListener("search",function(e){""===r.value&&(s.innerHTML="")})})},!1);